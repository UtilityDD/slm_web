import{r as n,s as D,j as e}from"./index-CoyIXhTj.js";import{c as w}from"./cacheHelper-BlUM2QW1.js";const W=()=>e.jsx("div",{className:"material-card elevation-1 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-700 shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-24 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 w-16 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 shimmer"})]})}),v=()=>e.jsxs("div",{className:"material-card elevation-1 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-700 shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-5 w-32 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 w-24 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 flex-1 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 flex-1 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]}),e.jsx("div",{className:"h-10 w-full bg-slate-200 dark:bg-slate-700 rounded-xl shimmer mt-4"})]}),z=({icon:c,title:x,message:g})=>e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center text-2xl text-slate-400",children:c}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-2",children:x}),e.jsx("p",{className:"text-slate-500 text-sm",children:g})]}),le=({message:c,type:x,show:g,onDismiss:u})=>{if(!g)return null;const y="fixed top-20 right-5 p-4 rounded-xl shadow-xl text-white transition-all duration-300 z-50 elevation-5",p={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsx("div",{className:`${y} ${p[x]}`,onClick:u,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium",children:c})})})};function oe({language:c="en",user:x,setCurrentView:g}){const[u,y]=n.useState("blood"),[p,K]=n.useState("all"),[J,C]=n.useState(!1),[f,Q]=n.useState("All"),[k,X]=n.useState("All"),[P,H]=n.useState([]),[T,S]=n.useState(!1),[A,M]=n.useState({message:"",type:"info",show:!1}),[L,F]=n.useState(""),[O,R]=n.useState(null),[Y,Z]=n.useState(null),_=(s,t="info")=>{M({message:s,type:t,show:!0}),setTimeout(()=>{M(r=>({...r,show:!1}))},3e3)},[d,j]=n.useState({fullName:"",bloodGroup:"",lastDonated:"",district:"",phone:""}),[G,q]=n.useState(!1),[N,V]=n.useState(!1);n.useEffect(()=>{x&&ee()},[x]);const ee=async()=>{try{const{data:s,error:t}=await D.from("profiles").select("*").eq("id",x.id).single();if(t)throw t;s&&s.is_donor&&(V(!0),j({fullName:s.full_name||"",bloodGroup:s.blood_group||"",lastDonated:s.last_donation_date||"",district:s.district||"",phone:s.phone||""}))}catch(s){console.error("Error checking donor status:",s)}},[I,U]=n.useState([]);n.useEffect(()=>{u==="blood"?E():u==="services"&&se()},[u,f,k]);const se=async()=>{const s=w.get("emergency_services");if(s){U(s);return}S(!0);try{const{data:t,error:r}=await D.from("emergency_services").select("*");if(r)throw r;U(t||[]),w.set("emergency_services",t||[],30)}catch(t){console.error("Error fetching services:",t)}finally{S(!1)}},E=async()=>{const s=`donors_${f}_${k}`,t=w.get(s);if(t){H(t);return}S(!0);try{let r=D.from("profiles").select("*").eq("is_donor",!0);f!=="All"&&(r=r.eq("blood_group",f)),k!=="All"&&(r=r.eq("district",k));const{data:b,error:B}=await r;if(B)throw B;H(b||[]),w.set(s,b||[],5)}catch(r){console.error("Error fetching donors:",r)}finally{S(!1)}},te=async s=>{if(s.preventDefault(),!x){g("login");return}if(d.phone.length!==10){_("Please enter a valid 10-digit phone number.","error");return}q(!0);try{const t={id:x.id,blood_group:d.bloodGroup,district:d.district,phone:d.phone,last_donation_date:d.lastDonated||null,is_donor:!0,email:x.email,full_name:d.fullName,updated_at:new Date().toISOString()},{error:r}=await D.from("profiles").upsert(t);if(r)throw r;w.clearAll(),_(N?"Donor profile updated successfully!":"Successfully registered as a donor!","success"),V(!0),C(!1),E()}catch(t){console.error("Error registering:",t),_(`Failed to register: ${t.message||"Unknown error"}`,"error")}finally{q(!1)}},i={en:{title:"Emergency Hub",tabs:{blood:"Blood Network",services:"Emergency Services"},blood:{heroTitle:"Save Lives Through Blood Donation",registerBtn:N?"Update Info":"Register as Donor",findBtn:"Search Donors",filters:{group:"Blood Group",district:"District"},donorsFound:"Donors Found",lastDonated:"Last donated",call:"Call",unavailable:"Unavailable"},services:{hospitals:"Hospitals",ambulance:"Ambulance",fire:"Fire Station",police:"Police",power:"Power Dept",call:"Call"}},bn:{title:"à¦œà¦°à§à¦°à¦¿ à¦¹à¦¾à¦¬",tabs:{blood:"à¦°à¦•à§à¦¤à§‡à¦° à¦¨à§‡à¦Ÿà¦“à¦¯à¦¼à¦¾à¦°à§à¦•",services:"à¦œà¦°à§à¦°à¦¿ à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾"},blood:{heroTitle:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¨à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦œà§€à¦¬à¦¨ à¦¬à¦¾à¦à¦šà¦¾à¦¨",registerBtn:N?"à¦¤à¦¥à§à¦¯ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦•à¦°à§à¦¨":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨",findBtn:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦–à§à¦à¦œà§à¦¨",filters:{group:"à¦°à¦•à§à¦¤à§‡à¦° à¦—à§à¦°à§à¦ª",district:"à¦œà§‡à¦²à¦¾"},donorsFound:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦—à§‡à¦›à§‡",lastDonated:"à¦¶à§‡à¦· à¦°à¦•à§à¦¤à¦¦à¦¾à¦¨",call:"à¦•à¦² à¦•à¦°à§à¦¨",unavailable:"à¦…à¦¨à§à¦ªà¦²à¦¬à§à¦§"},services:{hospitals:"à¦¹à¦¾à¦¸à¦ªà¦¾à¦¤à¦¾à¦²",ambulance:"à¦…à§à¦¯à¦¾à¦®à§à¦¬à§à¦²à§‡à¦¨à§à¦¸",fire:"à¦¦à¦®à¦•à¦² à¦•à§‡à¦¨à§à¦¦à§à¦°",police:"à¦ªà§à¦²à¦¿à¦¶",power:"à¦¬à¦¿à¦¦à§à¦¯à§à§Ž à¦¦à¦ªà§à¦¤à¦°",call:"à¦•à¦²"}}}[c];return e.jsxs("div",{className:"compact-container py-6 sm:py-10 mb-20",children:[e.jsx(le,{message:A.message,type:A.type,show:A.show,onDismiss:()=>M(s=>({...s,show:!1}))}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"inline-block p-2.5 rounded-full bg-red-100 text-red-600 text-2xl mb-3",children:"ðŸš¨"}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-slate-100 mb-0.5",children:c==="en"?e.jsxs(e.Fragment,{children:["Emergency ",e.jsx("span",{className:"text-red-600",children:"Hub"})]}):e.jsx(e.Fragment,{children:i.title})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/50 p-1 rounded-2xl inline-flex gap-1 border border-slate-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>y("blood"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${u==="blood"?"bg-white dark:bg-slate-800 text-red-600 shadow-lg shadow-red-500/10":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:text-slate-100"}`,children:i.tabs.blood}),e.jsx("button",{onClick:()=>y("services"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${u==="services"?"bg-white dark:bg-slate-800 text-blue-600 shadow-lg shadow-blue-500/10":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:text-slate-100"}`,children:i.tabs.services})]})}),u==="blood"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-base font-bold text-slate-900 dark:text-slate-100 mb-2",children:i.blood.heroTitle}),e.jsx("button",{onClick:()=>{x?C(!0):g("login")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-semibold rounded-lg transition-colors",children:i.blood.registerBtn})]}),e.jsx("div",{className:"hidden sm:block text-4xl opacity-20",children:"â¤ï¸"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:f,onChange:s=>Q(s.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"All",children:"All Groups"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"})]}),e.jsxs("select",{value:k,onChange:s=>X(s.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"All",children:"All Districts"}),e.jsx("option",{value:"Kolkata",children:"Kolkata"}),e.jsx("option",{value:"Howrah",children:"Howrah"}),e.jsx("option",{value:"Hooghly",children:"Hooghly"}),e.jsx("option",{value:"North 24 Parganas",children:"North 24 Parganas"}),e.jsx("option",{value:"South 24 Parganas",children:"South 24 Parganas"}),e.jsx("option",{value:"Siliguri",children:"Siliguri"}),e.jsx("option",{value:"Durgapur",children:"Durgapur"})]})]}),e.jsxs("button",{onClick:E,className:"px-5 py-2 bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-white rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.blood.findBtn]})]})}),T?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(W,{}),e.jsx(W,{}),e.jsx(W,{})]}):P.length===0?e.jsx(z,{icon:"ðŸ”",title:"No Donors Found",message:"No donors match your search criteria. Try adjusting filters."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:P.map(s=>{const t=Y===s.id;return e.jsxs("div",{onClick:()=>Z(t?null:s.id),className:`bg-white dark:bg-slate-800 rounded-lg p-3 border transition-all cursor-pointer ${t?"border-red-500 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-red-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex-shrink-0 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-xs",children:s.blood_group})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm truncate",children:s.full_name||"Unknown"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:s.district})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("a",{href:`tel:${s.phone}`,onClick:r=>r.stopPropagation(),className:"flex-shrink-0",children:e.jsx("button",{className:"w-8 h-8 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 flex items-center justify-center hover:bg-red-600 hover:text-white dark:hover:bg-red-600 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})})]})]}),t&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[i.blood.lastDonated,":"]}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:s.last_donation_date||"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Contact:"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:s.phone})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Status:"}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:"Available"})]})]})]},s.id)})})]}):e.jsx("div",{children:T?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{})]}):I.length===0?e.jsx(z,{icon:"ðŸ“‹",title:"No Services Found",message:"Emergency services data is currently unavailable."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"material-card elevation-1 p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:L,onChange:s=>F(s.target.value),placeholder:c==="en"?"Search services by name or location...":"à¦¨à¦¾à¦® à¦¬à¦¾ à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨ à¦¦à§à¦¬à¦¾à¦°à¦¾ à¦¸à¦¾à¦°à§à¦š à¦•à¦°à§à¦¨...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-slate-50 text-sm transition-all dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:focus:ring-blue-900"}),L&&e.jsx("button",{onClick:()=>F(""),className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 hover:bg-slate-300 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"mb-6 overflow-x-auto pb-2 scrollbar-hide",children:e.jsx("div",{className:"flex gap-2",children:["all","hospitals","ambulance","fire","police","power"].map(s=>{const r={all:{label:c==="en"?"All Services":"à¦¸à¦•à¦² à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾",icon:"grid",color:"slate"},hospitals:{label:i.services.hospitals,icon:"hospital",color:"blue"},ambulance:{label:i.services.ambulance,icon:"ambulance",color:"red"},fire:{label:i.services.fire,icon:"fire",color:"orange"},police:{label:i.services.police,icon:"police",color:"slate"},power:{label:i.services.power,icon:"power",color:"yellow"}}[s],b=p===s;return e.jsx("button",{onClick:()=>K(s),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap transition-all ${b?`bg-${r.color==="slate"?"slate-800":`${r.color}-600`} text-white shadow-md transform scale-105`:"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 dark:border-slate-600"}`,children:e.jsx("span",{children:r.label})},s)})})}),e.jsx("div",{className:p==="all"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 items-start":"space-y-4",children:(()=>{const s=L.toLowerCase(),t=I.filter(o=>{var l,m;const h=!L||((l=o.name)==null?void 0:l.toLowerCase().includes(s))||((m=o.location)==null?void 0:m.toLowerCase().includes(s)),a=p==="all"||o.type===p;return h&&a});if(t.length===0)return e.jsx("div",{className:"col-span-full",children:e.jsx(z,{icon:"ðŸ”",title:c==="en"?"No Results":"à¦•à§‹à¦¨ à¦«à¦²à¦¾à¦«à¦² à¦¨à§‡à¦‡",message:c==="en"?"No services found":"à¦•à§‹à¦¨ à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦¯à¦¾à¦¯à¦¼à¦¨à¦¿"})});const r=t.reduce((o,h)=>{const a=h.type||"other";return o[a]||(o[a]=[]),o[a].push(h),o},{}),b={hospitals:{label:i.services.hospitals,icon:"hospital",color:"blue"},ambulance:{label:i.services.ambulance,icon:"ambulance",color:"red"},fire:{label:i.services.fire,icon:"fire",color:"orange"},police:{label:i.services.police,icon:"police",color:"slate"},power:{label:i.services.power,icon:"power",color:"yellow"}},B=["hospitals","ambulance","fire","police","power"];if(p!=="all"){const o=t,a=b[p]||{color:"slate"};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(l=>{const m=O===l.id;return e.jsxs("div",{onClick:()=>R(m?null:l.id),className:`material-card elevation-1 p-5 hover:elevation-3 transition-all cursor-pointer group ${m?"ring-2 ring-blue-500":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"min-w-0 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${a.color==="blue"?"bg-blue-500":a.color==="red"?"bg-red-500":a.color==="orange"?"bg-orange-500":a.color==="yellow"?"bg-yellow-500":"bg-slate-500"}`}),e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm truncate",children:l.name})]}),e.jsx("p",{className:"text-xs text-slate-500 truncate pl-4 dark:text-slate-400",children:l.location})]}),e.jsx("a",{href:`tel:${l.phone}`,onClick:$=>$.stopPropagation(),className:"flex-shrink-0",children:e.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${a.color==="blue"?"bg-blue-100 text-blue-600 hover:bg-blue-600 hover:text-white":a.color==="red"?"bg-red-100 text-red-600 hover:bg-red-600 hover:text-white":a.color==="orange"?"bg-orange-100 text-orange-600 hover:bg-orange-600 hover:text-white":a.color==="yellow"?"bg-yellow-100 text-yellow-600 hover:bg-yellow-600 hover:text-white":"bg-slate-200 text-slate-600 dark:text-slate-400 hover:bg-slate-600 hover:text-white dark:bg-slate-700"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})})]}),m&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 animate-fade-in space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:"Address"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:l.address||l.location||"Address not available"})]})]}),l.description&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:"Details"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:l.description})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:"Contact"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:l.phone})]})]})]})]},l.id)})})}return B.map(o=>{const h=r[o];if(!h||h.length===0)return null;const a=b[o]||{label:o,color:"slate"};return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 sm:p-5 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-slate-50 dark:border-slate-700",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a.color==="blue"?"bg-blue-100 text-blue-600":a.color==="red"?"bg-red-100 text-red-600":a.color==="orange"?"bg-orange-100 text-orange-600":a.color==="yellow"?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-600 dark:text-slate-400"}`,children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o==="hospitals"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}),o==="ambulance"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),o==="fire"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),o==="police"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}),o==="power"&&e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-100",children:a.label}),e.jsxs("p",{className:"text-xs text-slate-500",children:[h.length," ",h.length===1?"service":"services"]})]})]}),e.jsx("div",{className:"space-y-3",children:h.map(l=>{const m=O===l.id;return e.jsxs("div",{onClick:()=>R(m?null:l.id),className:`p-3 rounded-lg bg-slate-50 hover:bg-slate-100 transition-all cursor-pointer group dark:bg-slate-700 dark:hover:bg-slate-600 ${m?"ring-2 ring-blue-500":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 pr-3",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm truncate",children:l.name}),e.jsx("p",{className:"text-xs text-slate-500 truncate dark:text-slate-400",children:l.location})]}),e.jsx("a",{href:`tel:${l.phone}`,onClick:$=>$.stopPropagation(),className:"flex-shrink-0",children:e.jsx("button",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${a.color==="blue"?"bg-blue-100 text-blue-600 hover:bg-blue-600 hover:text-white":a.color==="red"?"bg-red-100 text-red-600 hover:bg-red-600 hover:text-white":a.color==="orange"?"bg-orange-100 text-orange-600 hover:bg-orange-600 hover:text-white":a.color==="yellow"?"bg-yellow-100 text-yellow-600 hover:bg-yellow-600 hover:text-white":"bg-slate-200 text-slate-600 dark:text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})})]}),m&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600 animate-fade-in space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:l.address||l.location||"Address not available"})]}),l.description&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:l.description})]})]})]},l.id)})})]},o)})})()})]})}),J&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"material-card elevation-5 w-full max-w-md p-6 sm:p-8 animate-scale-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:N?c==="en"?"Update Donor Profile":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦†à¦ªà¦¡à§‡à¦Ÿ":c==="en"?"Register as Blood Donor":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨"}),e.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 dark:text-slate-400 w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:d.fullName,onChange:s=>j({...d,fullName:s.target.value}),className:"material-input",placeholder:"Enter your name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Blood Group"}),e.jsxs("select",{required:!0,value:d.bloodGroup,onChange:s=>j({...d,bloodGroup:s.target.value}),className:"material-input",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Last Donated"}),e.jsx("input",{type:"date",value:d.lastDonated,onChange:s=>j({...d,lastDonated:s.target.value}),className:"material-input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"District"}),e.jsxs("select",{required:!0,value:d.district,onChange:s=>j({...d,district:s.target.value}),className:"material-input",children:[e.jsx("option",{value:"",children:"Select District"}),e.jsx("option",{value:"Kolkata",children:"Kolkata"}),e.jsx("option",{value:"Howrah",children:"Howrah"}),e.jsx("option",{value:"Hooghly",children:"Hooghly"}),e.jsx("option",{value:"North 24 Parganas",children:"North 24 Parganas"}),e.jsx("option",{value:"South 24 Parganas",children:"South 24 Parganas"}),e.jsx("option",{value:"Siliguri",children:"Siliguri"}),e.jsx("option",{value:"Durgapur",children:"Durgapur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",required:!0,value:d.phone,onChange:s=>{const t=s.target.value.replace(/\D/g,"").slice(0,10);j({...d,phone:t})},pattern:"[0-9]{10}",title:"Please enter a valid 10-digit phone number",className:"material-input",placeholder:"10-digit mobile number"})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"material-button-outlined ripple-dark flex-1",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:G,className:"material-button-primary ripple flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:G?"Processing...":N?"Update":"Register"})]})]})]})})]})}export{oe as default};
