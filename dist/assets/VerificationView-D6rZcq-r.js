import{r as n,j as e,s as h}from"./index-BfT2LN-J.js";const b=({language:o,certificateId:r})=>{const[a,s]=n.useState("loading"),[l,x]=n.useState(null),[f,m]=n.useState(null);n.useEffect(()=>{(async()=>{if(console.log("Verifying Certificate ID:",r),!r||r==="verify"||r==="#"){console.warn("Invalid or missing Certificate ID"),s("invalid");return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(r)){console.warn("Certificate ID is not a valid UUID format"),s("invalid");return}try{s("loading");const{data:i,error:c}=await h.from("profiles").select("full_name, training_level, created_at").eq("id",r).single();c?(console.error("Supabase verification error:",c),s("invalid")):i?(console.log("Certificate verified successfully:",i),x(i),s("verified")):(console.warn("No data found for this Certificate ID"),s("invalid"))}catch(i){console.error("System error during verification:",i),s("error"),m(i.message)}})()},[r]);const d={en:{title:"Certificate Verification",loading:"Verifying certificate authenticity...",verified:"Authenticity Verified",invalid:"Invalid Certificate",error:"Verification Error",name:"Name",level:"Training Level",issued:"Issued On",status:"Status",official:"This is an official SmartLineman certificate.",warning:"The certificate ID provided does not match our records.",tryAgain:"Please check the ID and try again.",back:"Back to Home"},bn:{title:"à¦¸à¦¾à¦°à§à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦Ÿ à¦¯à¦¾à¦šà¦¾à¦‡à¦•à¦°à¦£",loading:"à¦¸à¦¾à¦°à§à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦Ÿà§‡à¦° à¦¸à¦¤à§à¦¯à¦¤à¦¾ à¦¯à¦¾à¦šà¦¾à¦‡ à¦•à¦°à¦¾ à¦¹à¦šà§à¦›à§‡...",verified:"à¦¸à¦¤à§à¦¯à¦¤à¦¾ à¦¯à¦¾à¦šà¦¾à¦‡ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡",invalid:"à¦…à¦¬à§ˆà¦§ à¦¸à¦¾à¦°à§à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦Ÿ",error:"à¦¯à¦¾à¦šà¦¾à¦‡à¦•à¦°à¦£ à¦¤à§à¦°à§à¦Ÿà¦¿",name:"à¦¨à¦¾à¦®",level:"à¦ªà§à¦°à¦¶à¦¿à¦•à§à¦·à¦£ à¦¸à§à¦¤à¦°",issued:"à¦‡à¦¸à§à¦¯à§ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡",status:"à¦…à¦¬à¦¸à§à¦¥à¦¾",official:"à¦à¦Ÿà¦¿ à¦à¦•à¦Ÿà¦¿ à¦…à¦«à¦¿à¦¸à¦¿à¦¯à¦¼à¦¾à¦² à¦¸à§à¦®à¦¾à¦°à§à¦Ÿ à¦²à¦¾à¦‡à¦¨à¦®à§à¦¯à¦¾à¦¨ à¦¸à¦¾à¦°à§à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦Ÿà¥¤",warning:"à¦ªà§à¦°à¦¦à¦¤à§à¦¤ à¦¸à¦¾à¦°à§à¦Ÿà¦¿à¦«à¦¿à¦•à§‡à¦Ÿ à¦†à¦‡à¦¡à¦¿ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦°à§‡à¦•à¦°à§à¦¡à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦®à¦¿à¦²à¦›à§‡ à¦¨à¦¾à¥¤",tryAgain:"à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦†à¦‡à¦¡à¦¿ à¦šà§‡à¦• à¦•à¦°à§à¦¨ à¦à¦¬à¦‚ à¦†à¦¬à¦¾à¦° à¦šà§‡à¦·à§à¦Ÿà¦¾ à¦•à¦°à§à¦¨à¥¤",back:"à¦¹à§‹à¦®à§‡ à¦«à¦¿à¦°à§‡ à¦¯à¦¾à¦¨"}},t=d[o]||d.en;return e.jsx("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-6 bg-slate-50 dark:bg-slate-900",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700 animate-fade-in",children:[e.jsxs("div",{className:`p-8 text-center ${a==="verified"?"bg-emerald-600":a==="invalid"?"bg-red-600":a==="error"?"bg-orange-600":"bg-blue-600"}`,children:[e.jsxs("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md",children:[a==="loading"&&e.jsx("div",{className:"w-10 h-10 border-4 border-white/30 border-t-white rounded-full animate-spin"}),a==="verified"&&e.jsx("span",{className:"text-4xl text-white",children:"âœ…"}),a==="invalid"&&e.jsx("span",{className:"text-4xl text-white",children:"âŒ"}),a==="error"&&e.jsx("span",{className:"text-4xl text-white",children:"âš ï¸"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:t.title}),e.jsx("p",{className:"text-white/80 text-sm",children:a==="loading"?t.loading:a==="verified"?t.verified:t.invalid})]}),e.jsxs("div",{className:"p-8",children:[a==="verified"&&l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.name}),e.jsx("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:l.full_name||"Valued Learner"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.level}),e.jsxs("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["Level ",l.training_level||0]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:t.issued}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:new Date(l.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl border border-emerald-100 dark:border-emerald-800/30",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ›¡ï¸"}),e.jsx("p",{className:"text-sm text-emerald-800 dark:text-emerald-200 font-medium leading-tight",children:t.official})]})})]}),a==="invalid"&&e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:t.warning}),e.jsx("p",{className:"text-sm font-medium text-slate-500",children:t.tryAgain})]}),a==="error"&&e.jsx("div",{className:"text-center space-y-4",children:e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:f||"An unexpected error occurred."})}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:()=>window.location.hash="#/home",className:"w-full py-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold rounded-2xl transition-all",children:t.back})})]})]})})};export{b as default};
