import{r as d,s as L,j as e,R as ee}from"./index-D1ffVcl5.js";import{c as y}from"./cacheHelper-BlUM2QW1.js";import{w as _}from"./wb_locations-Ce4qs5bC.js";const T=()=>e.jsx("div",{className:"material-card elevation-1 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-700 shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-24 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 w-16 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 shimmer"})]})}),v=()=>e.jsxs("div",{className:"material-card elevation-1 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-700 shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-5 w-32 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 w-24 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 flex-1 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 bg-slate-200 dark:bg-slate-700 rounded shimmer"}),e.jsx("div",{className:"h-3 flex-1 bg-slate-200 dark:bg-slate-700 rounded shimmer"})]})]}),e.jsx("div",{className:"h-10 w-full bg-slate-200 dark:bg-slate-700 rounded-xl shimmer mt-4"})]}),F=({icon:t,title:i,message:m})=>e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center text-2xl text-slate-400",children:t}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-2",children:i}),e.jsx("p",{className:"text-slate-500 text-sm",children:m})]}),ce=({message:t,type:i,show:m,onDismiss:h})=>{if(!m)return null;const b="fixed top-20 right-5 p-4 rounded-xl shadow-xl text-white transition-all duration-300 z-50 elevation-5",p={success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"};return e.jsx("div",{className:`${b} ${p[i]}`,onClick:h,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium",children:t})})})},xe=ee.memo(({donor:t,isExpanded:i,onToggle:m,t:h})=>e.jsxs("div",{onClick:m,className:`bg-white dark:bg-slate-800 rounded-lg p-3 border transition-all cursor-pointer ${i?"border-red-500 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-red-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex-shrink-0 flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-xs",children:t.blood_group})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm truncate",children:t.full_name||"Unknown"}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:[t.block?`${t.block}, `:"",t.district]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("a",{href:`tel:${t.phone}`,onClick:b=>b.stopPropagation(),className:"flex-shrink-0",children:e.jsx("button",{className:"w-8 h-8 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 flex items-center justify-center hover:bg-red-600 hover:text-white dark:hover:bg-red-600 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})})]})]}),i&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[h.blood.lastDonated,":"]}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.last_donation_date||"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Contact:"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:t.phone})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Status:"}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold",children:"Available"})]})]})]})),Z=ee.memo(({service:t,config:i,isExpanded:m,onToggle:h})=>e.jsxs("div",{onClick:h,className:`p-3 rounded-lg bg-slate-50 hover:bg-slate-100 transition-all cursor-pointer group dark:bg-slate-700 dark:hover:bg-slate-600 ${m?"ring-2 ring-blue-500":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 pr-3",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500 truncate dark:text-slate-400",children:t.location})]}),e.jsx("a",{href:`tel:${t.phone}`,onClick:b=>b.stopPropagation(),className:"flex-shrink-0",children:e.jsx("button",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${i.color==="blue"?"bg-blue-100 text-blue-600 hover:bg-blue-600 hover:text-white":i.color==="red"?"bg-red-100 text-red-600 hover:bg-red-600 hover:text-white":i.color==="orange"?"bg-orange-100 text-orange-600 hover:bg-orange-600 hover:text-white":i.color==="yellow"?"bg-yellow-100 text-yellow-600 hover:bg-yellow-600 hover:text-white":"bg-slate-200 text-slate-600 dark:text-slate-400 hover:bg-slate-600 hover:text-white"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})})]}),m&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600 animate-fade-in space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:t.address||t.location||"Address not available"})]}),t.description&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 text-slate-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:t.description})]})]})]}));function be({language:t="en",user:i,setCurrentView:m}){var Q,X;const[h,b]=d.useState("blood"),[p,se]=d.useState("all"),[te,C]=d.useState(!1),[k,le]=d.useState("All"),[g,ae]=d.useState("All"),[N,q]=d.useState("All"),[O,G]=d.useState([]),[z,S]=d.useState(!1),[$,E]=d.useState({message:"",type:"info",show:!1}),[B,P]=d.useState(""),[A,W]=d.useState(null),[I,re]=d.useState(null),M=(s,l="info")=>{E({message:s,type:l,show:!0}),setTimeout(()=>{E(a=>({...a,show:!1}))},3e3)},[r,f]=d.useState({fullName:"",bloodGroup:"",lastDonated:"",district:"",block:"",phone:""}),[U,H]=d.useState(!1),[w,V]=d.useState(!1);d.useEffect(()=>{i&&oe()},[i]);const oe=async()=>{try{const{data:s,error:l}=await L.from("profiles").select("*").eq("id",i.id).single();if(l)throw l;s&&s.is_donor&&(V(!0),f({fullName:s.full_name||"",bloodGroup:s.blood_group||"",lastDonated:s.last_donation_date||"",district:s.district||"",block:s.block||"",phone:s.phone||""}))}catch(s){console.error("Error checking donor status:",s)}},[K,J]=d.useState([]);d.useEffect(()=>{h==="blood"?R():h==="services"&&ie()},[h,k,g,N]);const ie=async()=>{const s=y.get("emergency_services");if(s){J(s);return}S(!0);try{const{data:l,error:a}=await L.from("emergency_services").select("*");if(a)throw a;J(l||[]),y.set("emergency_services",l||[],30)}catch(l){console.error("Error fetching services:",l)}finally{S(!1)}},R=async()=>{const s=`donors_${k}_${g}_${N}`,l=y.get(s);if(l){G(l);return}S(!0);try{let a=L.from("profiles").select("*").eq("is_donor",!0);k!=="All"&&(a=a.eq("blood_group",k)),g!=="All"&&(a=a.eq("district",g)),N!=="All"&&(a=a.eq("block",N));const{data:j,error:D}=await a;if(D)throw D;G(j||[]),y.set(s,j||[],5)}catch(a){console.error("Error fetching donors:",a)}finally{S(!1)}},ne=async s=>{if(s.preventDefault(),!i){m("login");return}if(r.phone.length!==10){M("Please enter a valid 10-digit phone number.","error");return}H(!0);try{const l={id:i.id,blood_group:r.bloodGroup,district:r.district,block:r.block,phone:r.phone,last_donation_date:r.lastDonated||null,is_donor:!0,email:i.email,full_name:r.fullName,updated_at:new Date().toISOString()},{error:a}=await L.from("profiles").upsert(l);if(a)throw a;y.clearAll(),M(w?"Donor profile updated successfully!":"Successfully registered as a donor!","success"),V(!0),C(!1),R()}catch(l){console.error("Error registering:",l),M(`Failed to register: ${l.message||"Unknown error"}`,"error")}finally{H(!1)}},o={en:{title:"Emergency Hub",tabs:{blood:"Blood Network",services:"Emergency Services"},blood:{heroTitle:"Save Lives Through Blood Donation",registerBtn:w?"Update Info":"Register as Donor",findBtn:"Search Donors",filters:{group:"Blood Group",district:"District"},donorsFound:"Donors Found",lastDonated:"Last donated",call:"Call",unavailable:"Unavailable"},services:{hospitals:"Hospitals",ambulance:"Ambulance",fire:"Fire Station",police:"Police",power:"Power Dept",call:"Call"}},bn:{title:"à¦œà¦°à§à¦°à¦¿ à¦¹à¦¾à¦¬",tabs:{blood:"à¦°à¦•à§à¦¤à§‡à¦° à¦¨à§‡à¦Ÿà¦“à¦¯à¦¼à¦¾à¦°à§à¦•",services:"à¦œà¦°à§à¦°à¦¿ à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾"},blood:{heroTitle:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¨à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦œà§€à¦¬à¦¨ à¦¬à¦¾à¦à¦šà¦¾à¦¨",registerBtn:w?"à¦¤à¦¥à§à¦¯ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦•à¦°à§à¦¨":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨",findBtn:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦–à§à¦à¦œà§à¦¨",filters:{group:"à¦°à¦•à§à¦¤à§‡à¦° à¦—à§à¦°à§à¦ª",district:"à¦œà§‡à¦²à¦¾"},donorsFound:"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦—à§‡à¦›à§‡",lastDonated:"à¦¶à§‡à¦· à¦°à¦•à§à¦¤à¦¦à¦¾à¦¨",call:"à¦•à¦² à¦•à¦°à§à¦¨",unavailable:"à¦…à¦¨à§à¦ªà¦²à¦¬à§à¦§"},services:{hospitals:"à¦¹à¦¾à¦¸à¦ªà¦¾à¦¤à¦¾à¦²",ambulance:"à¦…à§à¦¯à¦¾à¦®à§à¦¬à§à¦²à§‡à¦¨à§à¦¸",fire:"à¦¦à¦®à¦•à¦² à¦•à§‡à¦¨à§à¦¦à§à¦°",police:"à¦ªà§à¦²à¦¿à¦¶",power:"à¦¬à¦¿à¦¦à§à¦¯à§à§Ž à¦¦à¦ªà§à¦¤à¦°",call:"à¦•à¦²"}}}[t],de=()=>{const s=B.toLowerCase(),l=K.filter(c=>{var x,Y;const u=!B||((x=c.name)==null?void 0:x.toLowerCase().includes(s))||((Y=c.location)==null?void 0:Y.toLowerCase().includes(s)),n=p==="all"||c.type===p;return u&&n});if(l.length===0)return e.jsx("div",{className:"col-span-full",children:e.jsx(F,{icon:"ðŸ”",title:t==="en"?"No Results":"à¦•à§‹à¦¨ à¦«à¦²à¦¾à¦«à¦² à¦¨à§‡à¦‡",message:t==="en"?"No services found":"à¦•à§‹à¦¨ à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾ à¦¯à¦¾à¦¯à¦¼à¦¨à¦¿"})});if(p!=="all"){const c=p,n={hospitals:{label:o.services.hospitals,icon:"hospital",color:"blue"},ambulance:{label:o.services.ambulance,icon:"ambulance",color:"red"},fire:{label:o.services.fire,icon:"fire",color:"orange"},police:{label:o.services.police,icon:"police",color:"slate"},power:{label:o.services.power,icon:"power",color:"yellow"}}[c]||{label:c,icon:"other",color:"slate"};return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(x=>e.jsx(Z,{service:x,config:n,isExpanded:A===x.id,onToggle:()=>W(A===x.id?null:x.id)},x.id))})}const a=l.reduce((c,u)=>{const n=u.type||"other";return c[n]||(c[n]=[]),c[n].push(u),c},{}),j={hospitals:{label:o.services.hospitals,icon:"hospital",color:"blue"},ambulance:{label:o.services.ambulance,icon:"ambulance",color:"red"},fire:{label:o.services.fire,icon:"fire",color:"orange"},police:{label:o.services.police,icon:"police",color:"slate"},power:{label:o.services.power,icon:"power",color:"yellow"}},D=["hospitals","ambulance","fire","police","power"];return e.jsx("div",{className:"space-y-8",children:D.map(c=>{const u=a[c];if(!(u!=null&&u.length))return null;const n=j[c];return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl bg-${n.color}-100 text-${n.color}-600 dark:bg-${n.color}-900/30 dark:text-${n.color}-400`,children:n.icon==="hospital"?"ðŸ¥":n.icon==="ambulance"?"ðŸš‘":n.icon==="fire"?"ðŸš’":n.icon==="police"?"ðŸ‘®":n.icon==="power"?"âš¡":"ðŸ¢"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-100",children:n.label}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[u.length," ",t==="en"?"services available":"à¦Ÿà¦¿ à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾ à¦‰à¦ªà¦²à¦¬à§à¦§"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(x=>e.jsx(Z,{service:x,config:n,isExpanded:A===x.id,onToggle:()=>W(A===x.id?null:x.id)},x.id))})]},c)})})};return e.jsxs("div",{className:"compact-container py-6 sm:py-10 mb-20",children:[e.jsx(ce,{message:$.message,type:$.type,show:$.show,onDismiss:()=>E(s=>({...s,show:!1}))}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"inline-block p-2.5 rounded-full bg-red-100 text-red-600 text-2xl mb-3",children:"ðŸš¨"}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-slate-100 mb-0.5",children:t==="en"?e.jsxs(e.Fragment,{children:["Emergency ",e.jsx("span",{className:"text-red-600",children:"Hub"})]}):e.jsx(e.Fragment,{children:o.title})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/50 p-1 rounded-2xl inline-flex gap-1 border border-slate-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>b("blood"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${h==="blood"?"bg-white dark:bg-slate-800 text-red-600 shadow-lg shadow-red-500/10":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:text-slate-100"}`,children:o.tabs.blood}),e.jsx("button",{onClick:()=>b("services"),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all ${h==="services"?"bg-white dark:bg-slate-800 text-blue-600 shadow-lg shadow-blue-500/10":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:text-slate-100"}`,children:o.tabs.services})]})}),h==="blood"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-base font-bold text-slate-900 dark:text-slate-100 mb-2",children:o.blood.heroTitle}),e.jsx("button",{onClick:()=>{i?C(!0):m("login")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-semibold rounded-lg transition-colors",children:o.blood.registerBtn})]}),e.jsx("div",{className:"hidden sm:block text-4xl opacity-20",children:"â¤ï¸"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:k,onChange:s=>le(s.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"All",children:"All Groups"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"})]}),e.jsxs("select",{value:g,onChange:s=>{ae(s.target.value),q("All")},className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"All",children:"All Districts"}),Object.keys(_).sort().map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:N,onChange:s=>q(s.target.value),disabled:g==="All",className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all disabled:opacity-50",children:[e.jsx("option",{value:"All",children:"All Blocks"}),g!=="All"&&((Q=_[g])==null?void 0:Q.map(s=>e.jsx("option",{value:s,children:s},s)))]})]}),e.jsxs("button",{onClick:R,className:"px-5 py-2 bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-white rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.blood.findBtn]})]})}),z?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(T,{}),e.jsx(T,{}),e.jsx(T,{})]}):O.length===0?e.jsx(F,{icon:"ðŸ”",title:"No Donors Found",message:"No donors match your search criteria. Try adjusting filters."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:O.map(s=>e.jsx(xe,{donor:s,isExpanded:I===s.id,onToggle:()=>re(I===s.id?null:s.id),t:o},s.id))})]}):e.jsx("div",{children:z?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{}),e.jsx(v,{})]}):K.length===0?e.jsx(F,{icon:"ðŸ“‹",title:"No Services Found",message:"Emergency services data is currently unavailable."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"material-card elevation-1 p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:B,onChange:s=>P(s.target.value),placeholder:t==="en"?"Search services by name or location...":"à¦¨à¦¾à¦® à¦¬à¦¾ à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨ à¦¦à§à¦¬à¦¾à¦°à¦¾ à¦¸à¦¾à¦°à§à¦š à¦•à¦°à§à¦¨...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 bg-slate-50 text-sm transition-all dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:focus:ring-blue-900"}),B&&e.jsx("button",{onClick:()=>P(""),className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 hover:bg-slate-300 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"mb-6 overflow-x-auto pb-2 scrollbar-hide",children:e.jsx("div",{className:"flex gap-2",children:["all","hospitals","ambulance","fire","police","power"].map(s=>{const a={all:{label:t==="en"?"All Services":"à¦¸à¦•à¦² à¦ªà¦°à¦¿à¦·à§‡à¦¬à¦¾",icon:"grid",color:"slate"},hospitals:{label:o.services.hospitals,icon:"hospital",color:"blue"},ambulance:{label:o.services.ambulance,icon:"ambulance",color:"red"},fire:{label:o.services.fire,icon:"fire",color:"orange"},police:{label:o.services.police,icon:"police",color:"slate"},power:{label:o.services.power,icon:"power",color:"yellow"}}[s],j=p===s;return e.jsx("button",{onClick:()=>se(s),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap transition-all ${j?`bg-${a.color==="slate"?"slate-800":`${a.color}-600`} text-white shadow-md transform scale-105`:"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 dark:border-slate-600"}`,children:e.jsx("span",{children:a.label})},s)})})}),e.jsx("div",{className:p==="all"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 items-start":"space-y-4",children:de()})]})}),te&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"material-card elevation-5 w-full max-w-md p-6 sm:p-8 animate-scale-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:w?t==="en"?"Update Donor Profile":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦² à¦†à¦ªà¦¡à§‡à¦Ÿ":t==="en"?"Register as Blood Donor":"à¦°à¦•à§à¦¤à¦¦à¦¾à¦¤à¦¾ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨"}),e.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 dark:text-slate-400 w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:r.fullName,onChange:s=>f({...r,fullName:s.target.value}),className:"material-input",placeholder:"Enter your name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Blood Group"}),e.jsxs("select",{required:!0,value:r.bloodGroup,onChange:s=>f({...r,bloodGroup:s.target.value}),className:"material-input",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Last Donated"}),e.jsx("input",{type:"date",value:r.lastDonated,onChange:s=>f({...r,lastDonated:s.target.value}),className:"material-input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"District"}),e.jsxs("select",{required:!0,value:r.district,onChange:s=>f({...r,district:s.target.value,block:""}),className:"material-input",children:[e.jsx("option",{value:"",children:"Select District"}),Object.keys(_).sort().map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Block Name"}),e.jsxs("select",{required:!0,value:r.block,onChange:s=>f({...r,block:s.target.value}),disabled:!r.district,className:"material-input disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Select Block"}),r.district&&((X=_[r.district])==null?void 0:X.map(s=>e.jsx("option",{value:s,children:s},s)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",required:!0,value:r.phone,onChange:s=>{const l=s.target.value.replace(/\D/g,"").slice(0,10);f({...r,phone:l})},pattern:"[0-9]{10}",title:"Please enter a valid 10-digit phone number",className:"material-input",placeholder:"10-digit mobile number"})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"material-button-outlined ripple-dark flex-1",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U,className:"material-button-primary ripple flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Processing...":w?"Update":"Register"})]})]})]})})]})}export{be as default};
